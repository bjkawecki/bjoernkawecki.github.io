{% assign current_lang = site.active_lang | default: site.default_lang | default: 'de' %}
{% assign lang_prefix = '' %}
{% unless current_lang == site.default_lang %}
  {% assign lang_prefix = '/' | append: current_lang %}
{% endunless %}
{% assign nav_about_path = lang_prefix | append: '/' %}
{% assign nav_projects_path = lang_prefix | append: '/projects/' %}
{% assign nav_blog_path = lang_prefix | append: '/blog/' %}
{% assign contact_href = site.data[current_lang].strings.header.contact_cta_href | default: '#contact' %}
{% assign contact_label = site.data[current_lang].strings.header.contact_cta | default: 'Kontakt' %}
{% assign menu_open_label = site.data[current_lang].strings.header.menu_open | default: 'Menü öffnen' %}
{% assign menu_close_label = site.data[current_lang].strings.header.menu_close | default: 'Menü schließen' %}
{% assign header_strings = site.data[current_lang].strings %}
<header class="sticky top-0 z-40 border-b border-gray-200 dark:border-zinc-800 bg-gray-50/90 dark:bg-zinc-900/90 backdrop-blur">
  <div class="max-w-6xl px-5 md:px-6 lg:px-8 mx-auto">
    <div class="flex items-center justify-between py-4 md:py-5 gap-4">
      <a
        href="{{ site.baseurl }}{{ nav_about_path }}"
        class="text-xl font-bold tracking-tight text-gray-900 transition hover:text-gray-600 dark:text-white dark:hover:text-gray-300"
        aria-label="Björn Kawecki – {{ header_strings.aside.profession }}"
      >
        Björn Kawecki
      </a>
      <div class="flex items-center gap-3">
        <button
          id="toggle-color-mode"
          type="button"
          class="flex items-center justify-center w-9 h-9 rounded-full border border-gray-200 dark:border-zinc-700 transition hover:border-gray-400 dark:hover:border-zinc-500"
          aria-label="{{ header_strings.footer.theme_toggle_label }}"
          aria-pressed="false"
        ></button>
        <div class="flex items-center gap-1 text-sm font-medium">
          {% for tongue in site.languages %}
            {% assign language_code = site.data[tongue].strings.language_code | default: tongue | upcase %}
            {% if tongue == site.active_lang %}
              <span class="px-2 py-1 rounded-md bg-blue-100 text-blue-800 dark:bg-fuchsia-900/50 dark:text-fuchsia-200">
                {{ language_code }}
              </span>
            {% else %}
              {% assign language_name = site.data[tongue].strings.language_name %}
              <a
                class="px-2 py-1 rounded-md text-gray-600 hover:text-gray-900 hover:bg-gray-100 dark:text-gray-300 dark:hover:text-gray-50 dark:hover:bg-zinc-800 transition"
                {% static_href %}href="{% if tongue == site.default_lang %}{{ site.baseurl }}{{ page.url }}{% else %}{{ site.baseurl }}/{{ tongue }}{{ page.url }}{% endif %}"{% endstatic_href %}
                aria-label="{{ header_strings.footer.language_label }} {{ language_name }}"
              >
                {{ language_code }}
              </a>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</header>

